\documentclass[include/preamble.tex]{subfiles}
\begin{document}

\begin{frame}[fragile]
  \frametitle{Review}
  \newcommand{\tabitem}{~~\llap{\textbullet}~~}
  \begin{center}
    \begin{tabular}{lc}
      \tabitem{composition} &
      \begin{tikzpicture}[
          commutative diagrams/every diagram,
          baseline=(current bounding box.center)
        ]
        \matrix[
          matrix of math nodes,
          matrix xscale=2,
          matrix yscale=1,
          nodes={scale=1.5},
          name=m,
          commutative diagrams/every cell
        ] {
          A
          &
          B
          &
          C
          \\
        };
        \path[
          commutative diagrams/.cd,
          every arrow,
          every label,
          font=\large,
        ]
        (m-1-1) edge["$f$"] (m-1-2)
        (m-1-2) edge["$g$"] (m-1-3)
        (m-1-1) edge["$h = g \circ f$", bend right=15, swap] (m-1-3)
        ;
        \node[anchor=north west, yshift=-1.5em, xshift=2em] at (m-1-1.base west) {
          \begin{minipage}{0.5\textwidth}
            \begin{lstlisting}[style=scala]
def h(x: A): C = g(f(x))
            \end{lstlisting}
          \end{minipage}
        };
      \end{tikzpicture}
      \\
    \end{tabular}
  \end{center}
\end{frame}

\end{document}
